{"version":3,"sources":["services/persons.js","components/personForm.js","components/filter.js","components/persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","respone","data","newObject","post","response","id","console","log","delete","concat","put","PersonForm","_ref","persons","setPersons","setNotificationMessage","setError","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","react_default","a","createElement","onSubmit","event","preventDefault","map","names","name","includes","window","alert","confirm","person","find","p","changedPerson","objectSpread","number","personsId","personsService","returnedPerson","setTimeout","length","returnPerson","catch","error","value","onChange","target","type","Filter","setSearchValue","Names","handleDeleteButton","onClick","Persons","_ref2","searchValue","filter","search","toLowerCase","indexOf","nameSearch","persons_Names","key","refres","initialPersons","handleDeleteButtonOf","Notification","message","className","App","_useState5","_useState6","notificationMessage","_useState7","_useState8","useEffect","components_Notification","filter_Filter","personForm","components_persons","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.e5cb8934.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(respone => respone.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst removePerson = (id) => {\n    console.log(\"in service delete\" )\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, removePerson, update }","import React from \"react\"\nimport {useState} from \"react\"\nimport personsService from \"../services/persons\"\n\nconst PersonForm =({persons, setPersons, setNotificationMessage, setError }) =>{\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const handleNameChange = (event) => \n    setNewName(event.target.value)\n  \n  const handleNumberChange = (event) =>\n    setNewNumber(event.target.value)\n\n  const addName = (event) =>{\n    event.preventDefault()\n    if (persons.map(names => names.name).includes(newName)){\n      window.alert(`${newName} is already added to phonebook`)\n\n      if (window.confirm(\"wanna change that ?\")){\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber}\n      const personsId = person.id\n\n            // personsService\n            //   .update( personsId, changedPerson)\n            //   .then(() => {\n            //     personsService\n            //     .getAll()\n            //     .then(initialPersons => {\n            //       setPersons(initialPersons)\n            //   })})\n\n        personsService\n          .update( personsId, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => \n              person.id !== personsId ? person : returnedPerson))\n              setNotificationMessage(`'${person.name}' was sucessfully changed`)\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n          })\n        }\n      }\n          \n      else{\n        const length = persons.length\n        const newObject = {\n          name: newName,\n          number: newNumber,\n          // id: persons.length +1\n          id: persons[length - 1].id +1\n        }\n        setPersons(persons.concat(newObject))\n        setNewName(\"\")\n        setNewNumber(\"\")\n\n        personsService\n          .create(newObject)\n          .then(returnPerson =>{\n            setPersons(persons.concat(returnPerson))\n            setNotificationMessage(`Added '${newName}'`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            console.log(error.response.data.error)\n            setError(error.response.data.error)\n            setTimeout(() => {\n              setError(null)\n            }, 5000)\n          })\n      }}\n    \n  return(\n    <div>\n    <form onSubmit={addName}>\n      <div>\n        name: <input \n          value={newName}\n          onChange={handleNameChange}\n          />\n      </div>\n      <div>\n        number: <input \n        value={newNumber}\n        onChange={handleNumberChange}\n        />          \n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n  </form>\n  </div>\n  )\n}\n\nexport default PersonForm","import React from \"react\"\n\nconst Filter = ({value, setSearchValue }) => {\n    const handleSearchValueChange = (event) =>{\n        setSearchValue(event.target.value)}\n    return(\n        <div>     \n            filter shown with\n            <input value={value} onChange={handleSearchValueChange} />\n        </div>\n        )\n}\n\nconst nameSearch = ({persons, searchValue}) =>{\n    return( \n        persons.filter((search) => (\n        search.name.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1\n    )))\n}\n\nexport {Filter, nameSearch}\n","import React from \"react\"\nimport { nameSearch } from \"./filter\"\nimport personsService from \"../services/persons\"\n\n\n\nconst Names = ({ name, handleDeleteButton }) => \n<tr>\n  <td>{name.name}</td>\n  <td>{name.number}</td>\n  <td><button onClick={handleDeleteButton}>delete</button></td>\n</tr>\n\nconst Persons = ({ persons, searchValue, setPersons, setNotificationMessage, setError }) => {  \n  const handleDeleteButtonOf = name =>{\n    const id = name.id\n\n    if (window.confirm(`Delete ${name.name} contacts?`)){\n      personsService\n        .removePerson(id)\n        .then(() =>{\n          setNotificationMessage(`'${name.name}' was sucessfully removed`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setError(\n            `Note '${name.name}' was already removed from server`\n          )\n          setTimeout(() => {\n            setError(null)\n          }, 2000)\n        })\n        .then(refres =>{  \n          personsService\n          .getAll()\n          .then(initialPersons => {\n            setPersons(initialPersons)\n          })})\n    }\n\n    // personsService\n    // .getAll()\n    // .then(initialPersons => {\n    //   console.log(\"now!!!!!!!!!!!!!\")\n    //   setPersons(initialPersons)\n    // })\n  }\n\n    return(\n        <div>\n        <table>\n          <tbody>\n            {nameSearch({persons, searchValue}).map((name, id) => \n              <Names key={id} \n                name={name} \n                handleDeleteButton={() => handleDeleteButtonOf(name)} \n              />\n            )}\n          </tbody>\n        </table>\n      </div>\n    )\n}\n\nexport default Persons","import React from \"react\"\n\nconst Notification = ({ message, error }) => {\n  if (message) {\n    return(\n      <div className=\"notification\">\n      {message}\n    </div>\n    )\n  }\n  else if (error) {\n    return(\n      <div className=\"error\">\n      {error}\n    </div>\n    )\n  }\n  \n  return(null)\n}\n\nexport default Notification","import { useState, useEffect } from 'react'\nimport PersonForm from './components/personForm'\nimport { Filter} from './components/filter'\nimport Persons from './components/persons'\nimport React from \"react\"\nimport personsService from \"./services/persons\"\nimport Notification from \"./components/Notification\"\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [searchValue, setSearchValue] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [error, setError] = useState(null)\n\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} error={error}/>\n      <Filter value={searchValue} setSearchValue={setSearchValue} persons={persons}/>\n\n      <h3>Add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} \n      setNotificationMessage={setNotificationMessage} \n      setError={setError}\n      />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} \n        searchValue={searchValue} \n        setPersons={setPersons} \n        setNotificationMessage={setNotificationMessage}\n        setError={setError}\n        />\n    </div>\n  )}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}