{"version":3,"sources":["services/persons.js","components/personForm.js","components/filter.js","components/persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","respone","data","newObject","post","response","id","console","log","delete","concat","put","PersonForm","_ref","persons","setPersons","setNotificationMessage","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","react_default","a","createElement","onSubmit","event","preventDefault","map","names","name","includes","window","alert","confirm","person","find","p","changedPerson","objectSpread","number","personsId","personsService","returnedPerson","setTimeout","length","returnPerson","value","onChange","target","type","Filter","setSearchValue","Names","handleDeleteButton","onClick","Persons","_ref2","searchValue","setError","filter","search","toLowerCase","indexOf","nameSearch","persons_Names","key","catch","error","refres","initialPersons","handleDeleteButtonOf","Notification","message","className","App","_useState5","_useState6","notificationMessage","_useState7","_useState8","useEffect","components_Notification","filter_Filter","personForm","components_persons","ReactDOM","createRoot","document","getElementById","render","src_App"],"mappings":"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","file":"static/js/main.f47bbfb2.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(respone => respone.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst removePerson = (id) => {\n    console.log(\"in service delete\" )\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, removePerson, update }","import React from \"react\"\nimport {useState} from \"react\"\nimport personsService from \"../services/persons\"\n\nconst PersonForm =({persons, setPersons, setNotificationMessage }) =>{\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const handleNameChange = (event) => \n    setNewName(event.target.value)\n  \n  const handleNumberChange = (event) =>\n    setNewNumber(event.target.value)\n\n  const addName = (event) =>{\n    event.preventDefault()\n    if (persons.map(names => names.name).includes(newName)){\n      window.alert(`${newName} is already added to phonebook`)\n\n      if (window.confirm(\"wanna change that ?\")){\n      const person = persons.find(p => p.name === newName)\n      const changedPerson = { ...person, number: newNumber}\n      const personsId = person.id\n\n            // personsService\n            //   .update( personsId, changedPerson)\n            //   .then(() => {\n            //     personsService\n            //     .getAll()\n            //     .then(initialPersons => {\n            //       setPersons(initialPersons)\n            //   })})\n\n        personsService\n          .update( personsId, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => \n              person.id !== personsId ? person : returnedPerson))\n              setNotificationMessage(`'${person.name}' was sucessfully changed`)\n              setTimeout(() => {\n                setNotificationMessage(null)\n              }, 5000)\n          })\n        }\n      }\n          \n      else{\n        const length = persons.length\n        const newObject = {\n          name: newName,\n          number: newNumber,\n          // id: persons.length +1\n          id: persons[length - 1].id +1\n        }\n        setPersons(persons.concat(newObject))\n        setNewName(\"\")\n        setNewNumber(\"\")\n\n        personsService\n          .create(newObject)\n          .then(returnPerson =>{\n            setPersons(persons.concat(returnPerson))\n            setNotificationMessage(`Added '${newName}'`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n      }}\n    \n  return(\n    <div>\n    <form onSubmit={addName}>\n      <div>\n        name: <input \n          value={newName}\n          onChange={handleNameChange}\n          />\n      </div>\n      <div>\n        number: <input \n        value={newNumber}\n        onChange={handleNumberChange}\n        />          \n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n  </form>\n  </div>\n  )\n}\n\nexport default PersonForm","import React from \"react\"\n\nconst Filter = ({value, setSearchValue }) => {\n    const handleSearchValueChange = (event) =>{\n        setSearchValue(event.target.value)}\n    return(\n        <div>     \n            filter shown with\n            <input value={value} onChange={handleSearchValueChange} />\n        </div>\n        )\n}\n\nconst nameSearch = ({persons, searchValue}) =>{\n    return( \n        persons.filter((search) => (\n        search.name.toLowerCase().indexOf(searchValue.toLowerCase()) !== -1\n    )))\n}\n\nexport {Filter, nameSearch}\n","import React from \"react\"\nimport { nameSearch } from \"./filter\"\nimport personsService from \"../services/persons\"\n\n\n\nconst Names = ({ name, handleDeleteButton }) => \n<tr>\n  <td>{name.name}</td>\n  <td>{name.number}</td>\n  <td><button onClick={handleDeleteButton}>delete</button></td>\n</tr>\n\nconst Persons = ({ persons, searchValue, setPersons, setNotificationMessage, setError }) => {  \n  const handleDeleteButtonOf = name =>{\n    const id = name.id\n\n    if (window.confirm(`Delete ${name.name} contacts?`)){\n      personsService\n        .removePerson(id)\n        .then(() =>{\n          setNotificationMessage(`'${name.name}' was sucessfully removed`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setError(\n            `Note '${name.name}' was already removed from server`\n          )\n          setTimeout(() => {\n            setError(null)\n          }, 2000)\n        })\n        .then(refres =>{  \n          personsService\n          .getAll()\n          .then(initialPersons => {\n            setPersons(initialPersons)\n          })})\n    }\n\n    // personsService\n    // .getAll()\n    // .then(initialPersons => {\n    //   console.log(\"now!!!!!!!!!!!!!\")\n    //   setPersons(initialPersons)\n    // })\n  }\n\n    return(\n        <div>\n        <table>\n          <tbody>\n            {nameSearch({persons, searchValue}).map((name, id) => \n              <Names key={id} \n                name={name} \n                handleDeleteButton={() => handleDeleteButtonOf(name)} \n              />\n            )}\n          </tbody>\n        </table>\n      </div>\n    )\n}\n\nexport default Persons","import React from \"react\"\n\nconst Notification = ({ message, error }) => {\n  if (message) {\n    return(\n      <div className=\"notification\">\n      {message}\n    </div>\n    )\n  }\n  else if (error) {\n    return(\n      <div className=\"error\">\n      {error}\n    </div>\n    )\n  }\n  \n  return(null)\n}\n\nexport default Notification","import { useState, useEffect } from 'react'\nimport PersonForm from './components/personForm'\nimport { Filter} from './components/filter'\nimport Persons from './components/persons'\nimport React from \"react\"\nimport personsService from \"./services/persons\"\nimport Notification from \"./components/Notification\"\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [searchValue, setSearchValue] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState(null)\n  const [error, setError] = useState(null)\n\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} error={error}/>\n      <Filter value={searchValue} setSearchValue={setSearchValue} persons={persons}/>\n\n      <h3>Add a new</h3>\n      <PersonForm persons={persons} setPersons={setPersons} setNotificationMessage={setNotificationMessage} />\n\n      <h2>Numbers</h2>\n      <Persons persons={persons} \n        searchValue={searchValue} \n        setPersons={setPersons} \n        setNotificationMessage={setNotificationMessage}\n        setError={setError}\n        />\n    </div>\n  )}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}